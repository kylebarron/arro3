from typing import Self
from numpy.typing import NDArray

from .types import ArrowArrayExportable, ArrowSchemaExportable, ArrowStreamExportable

class Array:
    def __array__(self) -> NDArray: ...
    def __arrow_c_array__(self, requested_schema) -> object: ...
    def __eq__(self) -> bool: ...
    def __len__(self) -> bool: ...
    @classmethod
    def from_arrow(cls, input: ArrowArrayExportable) -> Self: ...
    @classmethod
    def from_arrow_pycapsule(cls, schema_capsule, array_capsule) -> Self: ...
    def to_numpy(self) -> NDArray: ...

class ChunkedArray:
    def __array__(self) -> NDArray: ...
    def __arrow_c_stream__(self, requested_schema) -> object: ...
    def __eq__(self) -> bool: ...
    def __len__(self) -> bool: ...
    @classmethod
    def from_arrow(cls, input: ArrowStreamExportable) -> Self: ...
    @classmethod
    def from_arrow_pycapsule(cls, capsule) -> Self: ...
    def to_numpy(self) -> NDArray: ...

class DataType:
    def __arrow_c_schema__(self) -> object: ...
    def __eq__(self) -> bool: ...
    def __repr__(self) -> bool: ...
    @classmethod
    def from_arrow(cls, input: ArrowSchemaExportable) -> Self: ...
    @classmethod
    def from_arrow_pycapsule(cls, capsule) -> Self: ...

class Field:
    def __arrow_c_schema__(self) -> object: ...
    def __eq__(self) -> bool: ...
    @classmethod
    def from_arrow(cls, input: ArrowSchemaExportable) -> Self: ...
    @classmethod
    def from_arrow_pycapsule(cls, capsule) -> Self: ...
    def equals(self, other: ArrowSchemaExportable) -> bool: ...
    @property
    def metadata(self) -> dict[bytes, bytes]: ...
    @property
    def metadata_str(self) -> dict[str, str]: ...
    @property
    def name(self) -> str: ...
    @property
    def nullable(self) -> bool: ...
    def remove_metadata(self) -> Field: ...
    @property
    def type(self) -> DataType: ...

class RecordBatch:
    def __arrow_c_array__(self, requested_schema) -> object: ...
    def __eq__(self) -> bool: ...

    # TODO: add new methods from record batch

    @classmethod
    def from_arrow(cls, input: ArrowArrayExportable) -> Self: ...
    @classmethod
    def from_arrow_pycapsule(cls, schema_capsule, array_capsule) -> Self: ...
    def column(self, i: int) -> ChunkedArray: ...
    def num_columns(self) -> int: ...
    def schema(self) -> Schema: ...

class RecordBatchReader:
    def __arrow_c_stream__(self, requested_schema) -> object: ...
    @classmethod
    def from_arrow(cls, input: ArrowStreamExportable) -> Self: ...
    @classmethod
    def from_arrow_pycapsule(cls, capsule) -> Self: ...
    def schema(self) -> Schema: ...

class Schema:
    def __arrow_c_schema__(self) -> object: ...
    def __eq__(self) -> bool: ...
    @classmethod
    def from_arrow(cls, input: ArrowSchemaExportable) -> Self: ...
    @classmethod
    def from_arrow_pycapsule(cls, capsule) -> Self: ...
    def field(self, i: int) -> Field: ...
    def get_all_field_indices(self, name: str) -> list[int]: ...
    def get_field_index(self, name: str) -> int: ...
    @property
    def metadata(self) -> dict[bytes, bytes]: ...
    @property
    def metadata_str(self) -> dict[str, str]: ...
    @property
    def names(self) -> list[str]: ...
    @property
    def types(self) -> list[DataType]: ...

class Table:
    def __arrow_c_stream__(self, requested_schema) -> object: ...
    def __eq__(self) -> bool: ...
    def __len__(self) -> bool: ...
    @classmethod
    def from_arrow(cls, input: ArrowStreamExportable) -> Self: ...
    @classmethod
    def from_arrow_pycapsule(cls, capsule) -> Self: ...
    def column(self, i: int) -> ChunkedArray: ...
    def num_columns(self) -> int: ...
    def schema(self) -> Schema: ...
